(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{14:function(e,t,n){},64:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n(29),a=n.n(s),i=n(20),j=n(30),r=n(4),u=(n(14),n(2)),b=n(8),l=n(11),o=n.n(l),O=n(0);var d=function(){return Object(O.jsx)("div",{children:Object(O.jsx)("h1",{children:"Sign up page"})})};var h=function(){var e=Object(c.useState)(""),t=Object(r.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)(""),i=Object(r.a)(a,2),j=i[0],u=i[1],b=Object(c.useState)(""),l=Object(r.a)(b,2),d=l[0],h=l[1],x=Object(c.useState)(""),p=Object(r.a)(x,2),f=p[0],m=p[1],g=Object(c.useState)(""),v=Object(r.a)(g,2),E=v[0],S=v[1],_=Object(c.useState)(""),C=Object(r.a)(_,2),y=C[0],N=C[1],U=Object(c.useState)(""),k=Object(r.a)(U,2),W=k[0],P=k[1],R=Object(c.useState)(""),V=Object(r.a)(R,2),M=V[0],A=V[1],H=Object(c.useState)(""),T=Object(r.a)(H,2),q=T[0],I=T[1],L=w();return Object(c.useEffect)((function(){var e="SELECT * FROM User WHERE user_id="+L.user.user_id;console.log(e),o.a.get("http://localhost:3002/api/get",{params:{sql:e}}).then((function(e){e.data.forEach((function(e,t){s(L.user.user_id),u(L.user.username),S(e.phone_num),P(e.email),I(e.wishlist_id)}))}))}),[L.user]),Object(O.jsxs)("div",{className:"list",children:[Object(O.jsxs)("p",{children:[Object(O.jsxs)("b",{children:["User ID: ",n," ",Object(O.jsx)("br",{}),"User name: ",j,Object(O.jsx)("input",{type:"text",id:"newUN",defaultValue:"",onChange:function(e){h(e.target.value)}})]}),"  ",Object(O.jsx)("br",{}),"Phone number: ",E,Object(O.jsx)("input",{type:"text",id:"newPN",defaultValue:"",onChange:function(e){N(e.target.value)}})," ",Object(O.jsx)("br",{}),"Email: ",W,Object(O.jsx)("input",{type:"text",id:"newEM",defaultValue:"",onChange:function(e){A(e.target.value)}})," ",Object(O.jsx)("br",{}),"Wishlist: ",q," ",Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),"Reset password:",Object(O.jsx)("input",{type:"password",id:"newPW",defaultValue:"",onChange:function(e){m(e.target.value)}})]}),Object(O.jsx)("button",{onClick:function(){!function(){var e=!0,t="UPDATE User SET ";""!==d&&(t+="username="+d,e=!1),""!==f&&(e?e=!1:t+=", ",t+="password="+f),""!==y&&(e?e=!1:t+=", ",t+="phone_num="+y),""!==M&&(e?e=!1:t+=", ",t+="email="+W),t+=" WHERE user_id="+n,o.a.put("http://localhost:3002/api/update",{sql:t})}()},children:"Update"})]})},x=n(32);var p=function(){var e=w(),t=Object(c.useState)([]),n=Object(r.a)(t,2),s=n[0],a=n[1];return Object(c.useEffect)((function(){var t="SELECT * FROM Contains WHERE wishlist_id="+e.user.wishlist_id;console.log(t),o.a.get("http://localhost:3002/api/get",{params:{sql:t}}).then((function(e){e.data.forEach((function(e,t){console.log("val is: "+e.product_id),a((function(t){return[].concat(Object(x.a)(t),[e])}))}))}))}),[e.user]),Object(O.jsxs)("div",{className:"App",children:[Object(O.jsx)("h1",{children:"Main page"}),Object(O.jsx)("br",{}),s.map((function(e){return Object(O.jsxs)("div",{className:"card",children:[Object(O.jsxs)("p",{children:[" Wishlist Item: ",e.product_id," "]}),Object(O.jsxs)("p",{children:["  add_date:",e.add_date," "]}),Object(O.jsxs)("p",{children:[" priority: ",e.priority," "]})]})}))]})};function f(){return Object(O.jsxs)("div",{className:"App",children:[Object(O.jsx)("h1",{children:"Main page"}),Object(O.jsx)("br",{})]})}var m=function(){return Object(O.jsxs)(u.d,{children:[" ",Object(O.jsx)(u.b,{exact:!0,path:"/",component:f}),Object(O.jsx)(u.b,{exact:!0,path:"/userinfo",component:h}),Object(O.jsx)(u.b,{exact:!0,path:"/wishlist",component:p})]})},g=Object(c.createContext)();function v(e){var t=e.children,n=function(){var e=Object(c.useState)(null),t=Object(r.a)(e,2),n=t[0],s=t[1];return{user:n,signin:function(e,t){var n={};return o.a.get("http://localhost:3002/api/login",{params:{username:e,password:t}}).then((function(e){e.data.length>0&&(e.data.forEach((function(e,t){n.user_id=e.user_id,n.username=e.username,n.wishlist_id=e.wishlist_id})),s(n))})),n},signout:function(){s(null)}}}();return Object(O.jsx)(g.Provider,{value:n,children:t})}var w=function(){return Object(c.useContext)(g)};function E(e){var t=e.children,n=Object(j.a)(e,["children"]),c=w();return Object(O.jsx)(u.b,Object(i.a)(Object(i.a)({},n),{},{render:function(e){var n=e.location;return c.user?t:Object(O.jsx)(u.a,{to:{pathname:"/login",state:{from:n}}})}}))}function S(){var e=Object(u.g)(),t=w();return t.user?Object(O.jsxs)("nav",{children:[Object(O.jsx)("h3",{children:Object(O.jsx)(b.b,{to:"/",children:"Home"})}),Object(O.jsxs)("ul",{className:"nav-links",children:[Object(O.jsx)("li",{children:Object(O.jsx)(b.b,{to:"/wishlist",children:"wishlist"})}),Object(O.jsxs)("li",{children:[Object(O.jsx)("label",{children:"Welcome! "}),Object(O.jsx)(b.b,{to:"/userinfo",children:t.user.username})]}),Object(O.jsx)("li",{children:Object(O.jsx)("button",{onClick:function(){t.signout((function(){return e.push("/")}))},children:"Sign out"})})]})]}):Object(O.jsx)("nav",{children:Object(O.jsxs)("ul",{className:"nav-links",children:[Object(O.jsx)("li",{children:Object(O.jsx)(b.b,{to:"/login",children:"log in"})}),Object(O.jsx)("li",{children:Object(O.jsx)(b.b,{to:"/signup",children:"Sign up"})})]})})}function _(){Object(u.g)();var e=Object(u.h)(),t=w(),n=Object(c.useState)(null),s=Object(r.a)(n,2),a=s[0],i=s[1],j=Object(c.useState)(null),b=Object(r.a)(j,2),l=b[0],o=b[1],d=(e.state||{from:{pathname:"/"}}).from;return Object(O.jsxs)("div",{children:[t&&t.user?Object(O.jsx)(u.a,{to:d}):Object(O.jsx)("label",{}),Object(O.jsx)("label",{children:"Username: "}),"\u2003",Object(O.jsx)("input",{type:"text",name:"username",defaultValue:"",onChange:function(e){i(e.target.value)}})," ",Object(O.jsx)("br",{}),Object(O.jsx)("label",{children:"Password: "}),"\u2003",Object(O.jsx)("input",{type:"password",name:"password",defaultValue:"",onChange:function(e){o(e.target.value)}})," ",Object(O.jsx)("br",{}),Object(O.jsx)("button",{onClick:function(){t.signin(a,l)},children:"Log in"})]})}var C=function(){return w(),Object(O.jsx)("div",{className:"App",children:Object(O.jsx)(v,{children:Object(O.jsxs)(b.a,{children:[Object(O.jsx)(S,{}),Object(O.jsx)("br",{}),Object(O.jsxs)(u.d,{children:[Object(O.jsx)(u.b,{path:"/login",children:Object(O.jsx)(_,{})}),Object(O.jsx)(u.b,{path:"/signup",component:d}),Object(O.jsx)(E,{path:"/",children:Object(O.jsx)(m,{})})]})]})})})};a.a.render(Object(O.jsx)(b.a,{children:Object(O.jsx)(C,{})}),document.getElementById("root"))}},[[64,1,2]]]);
//# sourceMappingURL=main.e4ed4cb6.chunk.js.map