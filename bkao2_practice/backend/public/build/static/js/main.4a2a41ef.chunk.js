(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{14:function(e,t,n){},64:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n(29),i=n.n(s),a=n(20),j=n(30),r=n(2),l=(n(14),n(3)),u=n(5),b=n(6),o=n.n(b),d=n(0);var O=function(){var e=Object(c.useState)(""),t=Object(r.a)(e,2),n=t[0],s=t[1],i=Object(c.useState)(""),a=Object(r.a)(i,2),j=a[0],l=a[1],u=Object(c.useState)(""),b=Object(r.a)(u,2),O=b[0],h=b[1],x=Object(c.useState)(""),p=Object(r.a)(x,2),f=p[0],m=p[1],g=Object(c.useState)(!1),v=Object(r.a)(g,2),y=v[0],S=v[1];return Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)("h1",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:" Sign Up "}),Object(d.jsxs)("div",{className:"form",children:[Object(d.jsxs)("div",{style:{padding:10,display:"flex",justifyContent:"center",alignItems:"center"},children:[Object(d.jsx)("label",{children:" Username: "}),Object(d.jsx)("input",{type:"text",name:"Username",onChange:function(e){s(e.target.value)}})]}),Object(d.jsxs)("div",{style:{padding:10,display:"flex",justifyContent:"center",alignItems:"center"},children:[Object(d.jsx)("label",{children:" Password: "}),Object(d.jsx)("input",{type:"text",name:"Password",onChange:function(e){l(e.target.value)}})]}),Object(d.jsxs)("div",{style:{padding:10,display:"flex",justifyContent:"center",alignItems:"center"},children:[Object(d.jsx)("label",{children:" Email: "}),Object(d.jsx)("input",{type:"text",name:"Email",onChange:function(e){h(e.target.value)}})]}),Object(d.jsxs)("div",{style:{padding:10,display:"flex",justifyContent:"center",alignItems:"center"},children:[Object(d.jsx)("label",{children:" Phone Number: "}),Object(d.jsx)("input",{type:"text",name:"PhoneNumber",onChange:function(e){m(e.target.value)}})]}),Object(d.jsx)("div",{style:{padding:10,display:"flex",justifyContent:"center",alignItems:"center"},children:Object(d.jsx)("div",{style:{padding:10},children:Object(d.jsx)("button",{onClick:function(){return function(){var e='INSERT INTO User (username, password, email, phone_num) VALUES ("'+n+'","'+j+'","'+O+'","'+f+'")';o.a.get("http://localhost:3002/api/get",{params:{sql:e}}).then((function(e){""!=e.data?S(!0):S(!1)}))}()},children:" Sign Up "})})}),Object(d.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:y?Object(d.jsx)("p",{children:" Sign Up Successful."}):null})]})]})};var h=function(){var e=Object(c.useState)(""),t=Object(r.a)(e,2),n=t[0],s=t[1],i=Object(c.useState)(""),a=Object(r.a)(i,2),j=a[0],l=a[1],u=Object(c.useState)(""),b=Object(r.a)(u,2),O=b[0],h=b[1],x=Object(c.useState)(""),p=Object(r.a)(x,2),f=p[0],m=p[1],g=Object(c.useState)(""),v=Object(r.a)(g,2),y=v[0],C=v[1],E=Object(c.useState)(""),_=Object(r.a)(E,2),w=_[0],N=_[1],U=Object(c.useState)(""),k=Object(r.a)(U,2),I=k[0],P=k[1],R=Object(c.useState)(""),W=Object(r.a)(R,2),A=W[0],D=W[1],T=Object(c.useState)(""),V=Object(r.a)(T,2),M=V[0],q=V[1],B=S();return Object(c.useEffect)((function(){var e="SELECT * FROM User WHERE user_id="+B.user.user_id;console.log(e),o.a.get("http://localhost:3002/api/get",{params:{sql:e}}).then((function(e){e.data.forEach((function(e,t){s(B.user.user_id),l(B.user.username),C(e.phone_num),P(e.email),q(e.wishlist_id)}))}))}),[B.user]),Object(d.jsxs)("div",{className:"list",children:[Object(d.jsxs)("p",{children:[Object(d.jsxs)("b",{children:["User ID: ",n," ",Object(d.jsx)("br",{}),"User name: ",j,Object(d.jsx)("input",{type:"text",id:"newUN",defaultValue:"",onChange:function(e){h(e.target.value)}})]}),"  ",Object(d.jsx)("br",{}),"Phone number: ",y,Object(d.jsx)("input",{type:"text",id:"newPN",defaultValue:"",onChange:function(e){N(e.target.value)}})," ",Object(d.jsx)("br",{}),"Email: ",I,Object(d.jsx)("input",{type:"text",id:"newEM",defaultValue:"",onChange:function(e){D(e.target.value)}})," ",Object(d.jsx)("br",{}),"Wishlist: ",M," ",Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),"Reset password:",Object(d.jsx)("input",{type:"password",id:"newPW",defaultValue:"",onChange:function(e){m(e.target.value)}})]}),Object(d.jsx)("button",{onClick:function(){!function(){var e=!0,t="UPDATE User SET ";""!==O&&(t+="username="+O,e=!1),""!==f&&(e?e=!1:t+=", ",t+="password="+f),""!==w&&(e?e=!1:t+=", ",t+="phone_num="+w),""!==A&&(e?e=!1:t+=", ",t+="email="+I),t+=" WHERE user_id="+n,o.a.put("http://localhost:3002/api/update",{sql:t})}()},children:"Update"})]})};var x=function(){var e=Object(c.useState)([]),t=Object(r.a)(e,2),n=t[0],s=t[1],i=Object(c.useState)(1),a=Object(r.a)(i,2),j=a[0],l=a[1],u=Object(c.useState)(1),b=Object(r.a)(u,2),O=b[0],h=b[1],x=Object(c.useState)(!0),p=Object(r.a)(x,2),f=p[0],m=p[1],g=S();Object(c.useEffect)((function(){h(Math.ceil(n.length/20)),O<j&&l(1),document.getElementById("pagenum").value=j,f&&v(),m(!1)}),[O,j,n]);var v=function(){var e="SELECT * FROM Notification WHERE user_id="+g.user.user_id+" ORDER BY datetime DESC, left_in_stock;";console.log(e),o.a.get("http://localhost:3002/api/get",{params:{sql:e}}).then((function(e){s(e.data)}))};window.onload=function(){v()};var y=function(e){e>=1&&e<=O&&l(e)};return Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)("h1",{children:" Notifications "}),Object(d.jsxs)("div",{className:"form",children:[Object(d.jsx)("br",{}),Object(d.jsxs)("div",{children:[Object(d.jsx)("button",{onClick:function(){y(j-1)},children:" < "}),Object(d.jsx)("input",{type:"number",id:"pagenum",defaultValue:j,min:"1",max:O,onKeyUp:function(e){!function(e){var t=document.getElementById("pagenum").value;console.log("e=",e.KeyCode),13===e.KeyCode&&(console.log("s=",t),e.preventDefault(),l(t))}(e)}}),Object(d.jsx)("button",{onClick:function(){y(j+1)},children:" > "}),Object(d.jsxs)("label",{children:[" ",O," "]})]}),n.map((function(e,t){return t<20*j&&t>=20*(j-1)?Object(d.jsx)("div",{className:"list",children:Object(d.jsxs)("p",{children:[Object(d.jsxs)("b",{children:[" Subject: ",e.subject," ",Object(d.jsx)("br",{})]})," ",Object(d.jsx)("br",{})," ",Object(d.jsx)("br",{}),e.website_name," ",Object(d.jsx)("br",{})]})}):""}))]})]})};var p=function(){var e=Object(c.useState)(0),t=Object(r.a)(e,2),n=(t[0],t[1],Object(c.useState)(0)),s=Object(r.a)(n,2),i=(s[0],s[1],Object(c.useState)("")),a=Object(r.a)(i,2),j=a[0],l=a[1],u=Object(c.useState)(0),b=Object(r.a)(u,2),O=(b[0],b[1],Object(c.useState)([])),h=Object(r.a)(O,2),x=h[0],p=h[1],f=Object(c.useState)(1),m=Object(r.a)(f,2),g=m[0],v=m[1],y=Object(c.useState)(1),C=Object(r.a)(y,2),E=C[0],_=C[1],w=Object(c.useState)(!0),N=Object(r.a)(w,2),U=N[0],k=N[1],I=S();Object(c.useEffect)((function(){_(Math.ceil(x.length/20)),E<g&&v(1),document.getElementById("pagenum").value=g,U&&P(),k(!1)}),[E,g,x]);var P=function(){o.a.get("http://localhost:3002/api/product_search",{params:{pname:j}}).then((function(e){p(e.data)}))};window.onload=function(){P()};var R=function(e){e>=1&&e<=E&&v(e)};return Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)("h1",{children:" Main Page "}),Object(d.jsxs)("div",{className:"form",children:[Object(d.jsx)("label",{children:" Product Name: "}),Object(d.jsx)("input",{type:"text",name:"name",onChange:function(e){l(e.target.value)}}),Object(d.jsx)("button",{onClick:P,children:" Search "}),Object(d.jsx)("br",{})," ",Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsxs)("div",{children:[Object(d.jsx)("button",{onClick:function(){R(g-1)},children:" < "}),Object(d.jsx)("input",{type:"number",id:"pagenum",defaultValue:g,min:"1",max:E,onKeyUp:function(e){!function(e){var t=document.getElementById("pagenum").value;console.log("e=",e.KeyCode),13===e.KeyCode&&(console.log("s=",t),e.preventDefault(),v(t))}(e)}}),Object(d.jsx)("button",{onClick:function(){R(g+1)},children:" > "}),Object(d.jsxs)("label",{children:[" ",E," "]})]}),x.map((function(e,t){return t<20*g&&t>=20*(g-1)?Object(d.jsxs)("div",{className:"list",children:[Object(d.jsxs)("p",{children:[Object(d.jsxs)("b",{children:[" Product Name: ",e.product_name," ",Object(d.jsx)("br",{}),"Price: ",e.product_price]})," ",Object(d.jsx)("br",{})," ",Object(d.jsx)("br",{}),"From: ",e.website_name," ",Object(d.jsx)("br",{}),"Website Url: ",e.website_url]}),Object(d.jsx)("button",{onClick:function(){var t;t=e.product_id,o.a.post("http://localhost:3002/api/contains_insert",{wishlist_id:I.user.wishlist_id,product_id:t}).then((function(){alert("Successfully added to your wishlist!")}))},children:" Add To Wishlist"})]}):""}))]})]})},f=n(32);var m=function(){var e=S(),t=Object(c.useState)(""),n=Object(r.a)(t,2),s=n[0],i=n[1],a=Object(c.useState)([]),j=Object(r.a)(a,2),l=j[0],u=j[1];return Object(c.useEffect)((function(){var t="SELECT * FROM Contains WHERE wishlist_id="+e.user.wishlist_id;console.log(t),o.a.get("http://localhost:3002/api/get",{params:{sql:t}}).then((function(e){e.data.forEach((function(e,t){console.log("val is: "+e.product_id),u((function(t){return[].concat(Object(f.a)(t),[e])}))}))}))}),[e.user]),Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)("h1",{children:"wishlist page"}),Object(d.jsx)("br",{}),l.map((function(e){return Object(d.jsxs)("div",{className:"card",children:[Object(d.jsxs)("p",{children:[" Wishlist Item: ",e.product_id," "]}),Object(d.jsxs)("p",{children:["  add_date:",e.add_date," "]}),Object(d.jsxs)("p",{children:[" priority: ",e.priority," "]}),Object(d.jsx)("button",{onClick:function(){!function(e,t){var n="DELETE FROM Contains WHERE wishlist_id ="+e+' AND product_id = "'+t+'"';i(t),console.log(n),o.a.put("http://localhost:3002/api/deleteContains",{sql:n}),alert(s+"deleted successfully!"),u(l.filter((function(e){return e.product_id!==t})))}(e.wishlist_id,e.product_id)},children:" Delete"})]})}))]})},g=function(){return Object(d.jsxs)(l.d,{children:[" ",Object(d.jsx)(l.b,{exact:!0,path:"/",component:p}),Object(d.jsx)(l.b,{exact:!0,path:"/notification",component:x}),Object(d.jsx)(l.b,{exact:!0,path:"/userinfo",component:h}),Object(d.jsx)(l.b,{exact:!0,path:"/wishlist",component:m})]})},v=Object(c.createContext)();function y(e){var t=e.children,n=function(){var e=Object(c.useState)(null),t=Object(r.a)(e,2),n=t[0],s=t[1];return{user:n,signin:function(e,t){var n={};return o.a.get("http://localhost:3002/api/login",{params:{username:e,password:t}}).then((function(e){e.data.length>0&&(e.data.forEach((function(e,t){n.user_id=e.user_id,n.username=e.username,n.wishlist_id=e.wishlist_id})),s(n))})),n},signout:function(){s(null)}}}();return Object(d.jsx)(v.Provider,{value:n,children:t})}var S=function(){return Object(c.useContext)(v)};function C(e){var t=e.children,n=Object(j.a)(e,["children"]),c=S();return Object(d.jsx)(l.b,Object(a.a)(Object(a.a)({},n),{},{render:function(e){var n=e.location;return c.user?t:Object(d.jsx)(l.a,{to:{pathname:"/login",state:{from:n}}})}}))}function E(){var e=Object(l.g)(),t=S();return t.user?Object(d.jsxs)("nav",{children:[Object(d.jsx)("h3",{children:Object(d.jsx)(u.b,{to:"/",children:"Home"})}),Object(d.jsxs)("ul",{className:"nav-links",children:[Object(d.jsx)("li",{children:Object(d.jsx)(u.b,{to:"/wishlist",children:"Wishlist"})}),Object(d.jsx)("li",{children:Object(d.jsx)(u.b,{to:"/notification",children:"Notification Center"})}),Object(d.jsxs)("li",{children:[Object(d.jsx)("label",{children:"Welcome! "}),Object(d.jsx)(u.b,{to:"/userinfo",children:t.user.username})]}),Object(d.jsx)("li",{children:Object(d.jsx)("button",{onClick:function(){t.signout((function(){return e.push("/")}))},children:"Sign out"})})]})]}):Object(d.jsx)("nav",{children:Object(d.jsxs)("ul",{className:"nav-links",children:[Object(d.jsx)("li",{children:Object(d.jsx)(u.b,{to:"/login",children:"log in"})}),Object(d.jsx)("li",{children:Object(d.jsx)(u.b,{to:"/signup",children:"Sign up"})})]})})}function _(){Object(l.g)();var e=Object(l.h)(),t=S(),n=Object(c.useState)(null),s=Object(r.a)(n,2),i=s[0],a=s[1],j=Object(c.useState)(null),u=Object(r.a)(j,2),b=u[0],o=u[1],O=(e.state||{from:{pathname:"/"}}).from;return Object(d.jsxs)("div",{children:[t&&t.user?Object(d.jsx)(l.a,{to:O}):Object(d.jsx)("label",{}),Object(d.jsx)("label",{children:"Username: "}),"\u2003",Object(d.jsx)("input",{type:"text",name:"username",defaultValue:"",onChange:function(e){a(e.target.value)}})," ",Object(d.jsx)("br",{}),Object(d.jsx)("label",{children:"Password: "}),"\u2003",Object(d.jsx)("input",{type:"password",name:"password",defaultValue:"",onChange:function(e){o(e.target.value)}})," ",Object(d.jsx)("br",{}),Object(d.jsx)("button",{onClick:function(){t.signin(i,b)},children:"Log in"})]})}var w=function(){return S(),Object(d.jsx)("div",{className:"App",children:Object(d.jsx)(y,{children:Object(d.jsxs)(u.a,{children:[Object(d.jsx)(E,{}),Object(d.jsx)("br",{}),Object(d.jsxs)(l.d,{children:[Object(d.jsx)(l.b,{path:"/login",children:Object(d.jsx)(_,{})}),Object(d.jsx)(l.b,{path:"/signup",component:O}),Object(d.jsx)(C,{path:"/",children:Object(d.jsx)(g,{})})]})]})})})};i.a.render(Object(d.jsx)(u.a,{children:Object(d.jsx)(w,{})}),document.getElementById("root"))}},[[64,1,2]]]);
//# sourceMappingURL=main.4a2a41ef.chunk.js.map